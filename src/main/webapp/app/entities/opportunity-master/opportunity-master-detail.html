<!-- <form name="editForm" role="form" novalidate ng-submit="vm.saveWithUpload()" show-validation> -->
<html>
<head>
<style>
.actionBox {
	border-top: 1px dotted #bbb;
	padding: 10px;
}

.sub-text {
	color: #aaa;
	font-family: verdana;
	font-size: 11px;
}

.commentText p {
	margin: 0;
}

.capitalize {
	text-transform: capitalize;
}
</style>
</head>
</html>
<div>
	<!--   <h2><span>Opportunity Master</span> {{vm.opportunityMaster.id}}</h2> -->
	<h2>{{vm.opportunityMaster.masterName.oppName}}</h2> <div class="text-danger text-right ng-binding text-bold">{{vm.opportunityMaster.oppStatus}}</div>
	<hr>
	<jhi-alert-error></jhi-alert-error>
	<dl class="dl-horizontal jh-entity-details">
		<dt>
			<span>Sector</span>
		</dt>
		<dd>
			<span>{{vm.opportunityMaster.masterName.sectorType}}</span>
		</dd>
		<dt>
			<span>Description</span>
		</dt>
		<dd>
			<span>{{vm.opportunityMaster.oppDescription}}</span>
		</dd>
		<dt>
			<span>Strategy</span>
		</dt>
		<dd>
			<div
				ng-repeat="strategyMapping in vm.opportunityMaster.strategyMapping">
				{{strategyMapping.strategyMaster.strategyName}}</div>

		</dd>

		<!--   <dt ng-show="vm.opportunityMaster.htmlContent"><span>Document</span></dt>
        <dd ng-show="vm.opportunityMaster.htmlContent">
            <iframe src='https://docs.google.com/gview?url=http://ieee802.org/secmail/docIZSEwEqHFr.doc&embedded=true' width='100%' height='400' frameborder='0'></iframe>
            <div ckeditor="options" ng-model="vm.opportunityMaster.htmlContent" ready="onReady()" ng-change="changeCKeditor()" readonly=""></div>
        </dd>
         -->
		<!--   <dt ng-show="vm.fileDocSave"><span>Create Document</span></dt>
        <dd ng-show="vm.fileDocSave">
            <iframe src='https://docs.google.com/gview?url=http://ieee802.org/secmail/docIZSEwEqHFr.doc&embedded=true' width='100%' height='400' frameborder='0'></iframe>
            <div ckeditor="options" ng-model="vm.fileDocSave" ready="onReady()" ng-change="changeCKeditor()" readonly=""></div>
        </dd>  -->
		<!--  <dt><span>File Upload</span> -->
		<!--   <dd>
        <div class="form-group">
            <input type="file" ngf-select="vm.selectFile($file)" name="file" id="file_upload" ngf-pattern=".doc,.docx" accept=".doc,.docx" required="">
            <br/><button type="button" class="btn btn-default" ng-click="vm.upload()">Upload</button>
        </div>
        </dd> -->
		<!--   <dt><span>Comments</span></dt>
        <dd>
         <div class="actionBox" ng-repeat="fileUploadComments in vm.opportunityMaster.fileUploadCommentList track by fileUploadComments.id">
 			<div>
 			<div class="capitalize"><b>{{fileUploadComments.createdBy}} </b></div>
 			 <div>{{fileUploadComments.fileComments}}</div>
			<div class="date sub-text"> on {{fileUploadComments.createdDate  | date :"MMM d, y h:mm:ss a"}}</div></div>

         </div>
            <textarea ng-model="vm.fileComments" name="comments" id="field_comments" rows="4" cols="120"></textarea>
            <br><button class="btn btn-default" ng-click="vm.saveComment()" ng-disabled=""vm.isSaving>Submit Comment</button>
        </dd>      -->

	<!--	<dt ng-show="vm.opportunityMaster.fileUploads">
			<span>File Created</span>
		</dt>
		<dd ng-show="vm.opportunityMaster.fileUploads" style="height:60px;overflow:scroll;overflow-x:hidden;overflow-y:scroll;">
			&lt;!&ndash;  <iframe src='https://docs.google.com/gview?url=http://ieee802.org/secmail/docIZSEwEqHFr.doc&embedded=true' width='100%' height='400' frameborder='0'></iframe> &ndash;&gt;
			<div ng-repeat="fileUploads in vm.opportunityMaster.fileUploads">
				<a ng-click="vm.loadFileContent(fileUploads.id)">{{fileUploads.fileName}}</a>
				<b> - {{fileUploads.createdBy | capitalize}}</b> <span class="date sub-text">
					on {{fileUploads.createdDate | date :"MMM d, y h:mm:ss a"}}</span>
			</div>

		</dd>-->



            <div class="row" ng-show="vm.opportunityMaster.fileUploads">
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                          Presentation
                        </div>
                        <div style="height:120px;overflow:scroll;overflow-x:hidden;overflow-y:scroll;">
                        <div class="panel-body" ng-repeat="fileUploads in vm.opportunityMaster.fileUploads | filter: {filetype: 'Presentation'}">
                            <a ng-click="vm.loadFileContent(fileUploads.id)">{{fileUploads.fileName}}</a>
                            <b> - {{fileUploads.createdBy | capitalize}}</b> <span class="date sub-text">
				   	          on {{fileUploads.createdDate | date :"MMM d, y h:mm:ss a"}}</span>
                        </div></div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Excel Module
                        </div>
                        <div style="height:120px;overflow:scroll;overflow-x:hidden;overflow-y:scroll;">
                        <div class="panel-body"   ng-repeat="fileUploads in vm.opportunityMaster.fileUploads | filter: {filetype: 'Excel module'}">
                            <a ng-click="vm.loadFileContent(fileUploads)">{{fileUploads.fileName}}</a>
                            <b> - {{fileUploads.createdBy | capitalize}}</b> <span class="date sub-text">
				   	          on {{fileUploads.createdDate | date :"MMM d, y h:mm:ss a"}}</span>
                        </div>
                    </div></div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Quarterly Updates
                        </div>
                        <div style="height:120px;overflow:scroll;overflow-x:hidden;overflow-y:scroll;">
                        <div class="panel-body" ng-repeat="fileUploads in vm.opportunityMaster.fileUploads | filter: {filetype: 'Quarterly updates'}">
                            <a ng-click="vm.loadFileContent(fileUploads.id)">{{fileUploads.fileName}}</a>
                            <b> - {{fileUploads.createdBy | capitalize}}</b> <span class="date sub-text">
				   	          on {{fileUploads.createdDate | date :"MMM d, y h:mm:ss a"}}</span>
                        </div></div>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Miscellaneous
                        </div>
                        <div style="height:120px;overflow:scroll;overflow-x:hidden;overflow-y:scroll;">
                        <div class="panel-body" ng-repeat="fileUploads in vm.opportunityMaster.fileUploads | filter: {filetype: 'Miscellaneous'}">
                            <a ng-click="vm.loadFileContent(fileUploads.id)">{{fileUploads.fileName}}</a>
                            <b> - {{fileUploads.createdBy | capitalize}}</b> <span class="date sub-text">
				   	          on {{fileUploads.createdDate | date :"MMM d, y h:mm:ss a"}}</span>
                        </div></div>
                    </div>
                </div>
            </div>







        <dt ng-show="vm.htmlContent">
			<span>Document</span>
		</dt>
		<dd ng-show="vm.htmlContent">
			<div ckeditor="options" ng-model="vm.htmlContent" ready="onReady()"
				ng-change="changeCKeditor()" readonly=true></div>
		</dd>

		<dt ng-show="myvar">
			<span>Document</span>

		</dt>
		<dd ng-show="myvar">
			<!--<iframe src='https://docs.google.com/gview?url=http://ieee802.org/secmail/docIZSEwEqHFr.doc&embedded=true' width='100%' height='400' frameborder='0'></iframe>-->
			<div ckeditor="options" ng-model="vm.newdoc" ready="onReady()"
				ng-change="changeCKeditor()" readonly=""></div>
		</dd>
		<dt ng-show="myvar">
			<span>Description</span>
		</dt>
		<dd ng-show="myvar">
			<input type="text" class="col-sm-8" id="id" name="id"
				ng-model="vm.fileName" />
		</dd>
		<dt>
			<button type="button" class="btn btn-primary"
				ng-click="showdocument(); vm.htmlContent = null;" ng-show="!myvar" has-authority="ROLE_RA">
				<span class="hidden-sm-down">CreateDocument</span>
			</button>

			<button type="button" class="btn btn-primary"
				ng-click="vm.createFile()" ng-show="myvar">Save</button>
			<button type="button" class="btn btn-primary"
				ng-click="myvar = !myvar" ng-show="myvar">
				<span class="hidden-sm-down">Cancel</span>
			</button>
		</dt>
		<dd><button class="btn btn-success" ng-click="open('Approve')"
				ng-disabled="" has-authority="ROLE_CIO" vm.isSaving>Approve</button>
			<button class="btn btn-warning" ng-click="vm.approveFile('Change Request')"
				ng-disabled="" has-authority="ROLE_CIO" vm.isSaving>Change Request</button>
			<button class="btn btn-danger"  ng-click="vm.approveFile('Wait Listed')"
				ng-disabled="" has-authority="ROLE_CIO" vm.isSaving>Wait Listed</button></dd></dd>

        <dt>
            <span>Select File Format</span>
        </dt>


        <dd>
            <select ng-model="selitem" ng-change="getselectval()">
                <option ng-repeat="x in fileformat">{{x}}</option>
            </select>
        </dd>

        <dt>
            <span>Description</span>
        </dt>
        <dd>
            <input type="text" class="col-sm-6" id="fileid" name="fileid"
                   ng-model="vm.uploadfileName" />
        </dd>

		<dt>
			<span>Upload</span>
		</dt>
		<dd>
			<div class="form-group">
				<input type="file" ngf-select="vm.selectFile($file)" name="file"
					id="file_upload" ngf-pattern=".xls,.xlsx,.png,.jpg,.jpeg,.gif,.pptx" accept=".xls,.xlsx,.png,.jpg,.jpeg,.gif,.pptx"
					required=""> <br />
				<button type="button" class="btn btn-default" ng-click="vm.upload()">Upload</button>
			</div>
		</dd>


		<dt>
			<span>Comments</span>
		</dt>
		<dd>

			<div class="actionBox"
				ng-repeat="fileUploadComments in vm.opportunityMaster.fileUploadCommentList">
				<div>
					<div class="capitalize">
						<b>{{fileUploadComments.createdBy}} </b>
					</div>
					<div>{{fileUploadComments.opportunityComments}}</div>
					<div class="date sub-text">on
						{{fileUploadComments.createdDate | date :"MMM d, y h:mm:ss a"}}</div>
				</div>

			</div>
			<textarea ng-model="vm.fileComments" name="comments"
				id="field_comments" rows="4" cols="120"></textarea>
			<br>
			<button class="btn btn-primary" ng-click="vm.saveComment()"
				ng-disabled="" vm.isSaving>Submit Comment</button>
		</dd>

	</dl>


</div>




<button type="submit" ui-sref="{{ vm.previousState }}"
	class="btn btn-info">
	<span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span>
		Back</span>
</button>

<button type="button"
	ui-sref="opportunity-master.edit({id:vm.opportunityMaster.id})"
	class="btn btn-primary">
	<span class="glyphicon glyphicon-pencil"></span> <span
		class="hidden-sm-down"> Edit</span>
</button>
<!-- </form> -->
